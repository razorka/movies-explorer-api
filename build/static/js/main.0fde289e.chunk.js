(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n,i=a(1),s=a.n(i),r=a(14),c=a.n(r),l=a(3),o=(a(30),a(10)),u=a(2),d=a(4),m=s.a.createContext(),j=a(16),b=a(17),h=new(function(){function e(t){Object(j.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(b.a)(e,[{key:"_handleOriginalResponse",value:function(e){return e.ok?Promise.resolve(e.json()).then((function(t){return{data:t,status:e.status}})):Promise.reject(e.status)}},{key:"getMoviesData",value:function(){return fetch("".concat(this._url),{headers:this._headers}).then(this._handleOriginalResponse)}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}}),f=a(24),O=a.p+"static/media/not-allowed-image.941a9e09.png",v=["nameEN","nameRU","director","country","year","description"],x=[{keyName:"image",checkFunc:function(e){return e.image?"".concat("https://api.nomoreparties.co").concat(e.image.url):"".concat("http://localhost:3000").concat(O)}},{keyName:"trailerLink",checkFunc:function(e){return function(e){try{new URL(e)}catch(t){return!1}return!0}(e.trailerLink)?e.trailerLink:"https://www.youtube.com"}},{keyName:"duration",checkFunc:function(e){return e.duration?e.duration:(console.log(e.duration),0)}}],g="duration",p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40,s=new Map;return t.forEach((function(t){a.forEach((function(a){t[a]?e.search||e.search&&e.shortfilm?e.shortfilm&&e.search?t[n]<=i&&t[a].toString().toLowerCase().includes(e.search.toLowerCase())&&s.set(t.id,t):t[a].toString().toLowerCase().includes(e.search.toLowerCase())&&s.set(t.id,t):e.shortfilm?t[n]<=i&&s.set(t.id,t):s.set(t.id,t):t[a]="\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}))})),s.forEach((function(e){x.forEach((function(t){var a=t.checkFunc(e);e[t.keyName]=a}))})),Object(f.a)(s.values())},_=a(6),N=new(function(){function e(t){Object(j.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(b.a)(e,[{key:"_handleOriginalResponse",value:function(e){return e.ok?Promise.resolve(e.json()).then((function(t){return{data:t,status:e.status}})):Promise.reject(e.status)}},{key:"register",value:function(e){return fetch("".concat(this._url,"/signup"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"authorize",value:function(e){return fetch("".concat(this._url,"/signin"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"checkToken",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:Object(_.a)(Object(_.a)({},this.headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._handleOriginalResponse)}},{key:"updateCurrentUserProfile",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:Object(_.a)(Object(_.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify({name:e.name,email:e.email})}).then(this._handleOriginalResponse)}},{key:"saveMovie",value:function(e,t){return fetch("".concat(this._url,"/movies"),{method:"POST",headers:Object(_.a)(Object(_.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)}),body:JSON.stringify(e)}).then(this._handleOriginalResponse)}},{key:"getSavedMovies",value:function(e){return fetch("".concat(this._url,"/movies"),{method:"GET",headers:Object(_.a)(Object(_.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}).then(this._handleOriginalResponse)}},{key:"deleteSavedMovie",value:function(e,t){return fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:Object(_.a)(Object(_.a)({},this._headers),{},{Authorization:"Bearer ".concat(t)})}).then(this._handleOriginalResponse)}}]),e}())({baseUrl:"api.movies-razorka.nomoredomains.icu",headers:{"Content-Type":"application/json"}}),S=a(0),k=s.a.memo((function(){return Object(S.jsxs)("nav",{className:"auth-navigation",children:[Object(S.jsx)(l.c,{className:"auth-navigation__link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(S.jsx)(l.c,{className:"auth-navigation__link",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})})),y=s.a.memo((function(){return Object(S.jsxs)("nav",{className:"navigation",children:[Object(S.jsx)(l.c,{className:"navigation__link",activeClassName:"navigation__link_active",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(S.jsx)(l.c,{className:"navigation__link",activeClassName:"navigation__link_active",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]})}));function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function w(e,t){var a=e.title,s=e.titleId,r=E(e,["title","titleId"]);return i.createElement("svg",C({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},r),a?i.createElement("title",{id:s},a):null,n||(n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.42985 7.96781C8.79169 7.40572 9.7501 6.06478 9.7501 4.5C9.7501 2.42893 8.07117 0.75 6.0001 0.75C3.92903 0.75 2.2501 2.42893 2.2501 4.5C2.2501 6.06473 3.20845 7.40563 4.57021 7.96775C3.17555 8.19993 1.89263 8.76594 0.80835 9.58058L2.1899 11.4194C3.25119 10.6221 4.56874 10.15 5.99986 10.15C7.43098 10.15 8.74852 10.6221 9.80981 11.4194L11.1914 9.58058C10.1072 8.76601 8.82438 8.20003 7.42985 7.96781Z",fill:"black"})))}var T,L=i.forwardRef(w),R=(a.p,"/profile"),I="\u0410\u043a\u043a\u0430\u0443\u043d\u0442",M=s.a.memo((function(){return Object(S.jsxs)(l.b,{className:"account-link",to:R,children:[I,Object(S.jsx)(L,{className:"account-link__icon"})]})}));function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function P(e,t){var a=e.title,n=e.titleId,s=D(e,["title","titleId"]);return i.createElement("svg",U({width:38,height:38,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,T||(T=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 38C29.4934 38 38 29.4934 38 19C38 8.50659 29.4934 0 19 0C8.50659 0 0 8.50659 0 19C0 29.4934 8.50659 38 19 38ZM19 28.5C24.2467 28.5 28.5 24.2467 28.5 19C28.5 13.7533 24.2467 9.5 19 9.5C13.7533 9.5 9.5 13.7533 9.5 19C9.5 24.2467 13.7533 28.5 19 28.5Z",fill:"#2BE080"})))}var A=i.forwardRef(P),B=(a.p,"\u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),F="/",V=s.a.memo((function(){return Object(S.jsx)(l.b,{className:"logo-link",to:F,"aria-label":B,children:Object(S.jsx)(A,{})})})),q=s.a.memo((function(e){return Object(S.jsx)("button",{title:"\u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e",className:"menu-button",onClick:e.onOpenMenu})}));var z=function(e){return Object(S.jsxs)("header",{className:"header",children:[Object(S.jsx)(V,{}),Object(S.jsx)("div",{className:"header__navigation-container",children:e.loggedIn?Object(S.jsx)(y,{}):Object(S.jsx)(k,{})}),e.loggedIn&&Object(S.jsx)(M,{}),e.loggedIn&&Object(S.jsx)(q,{onOpenMenu:e.onOpenMenu})]})},Z=Object(i.createContext)();function Q(e){var t=e.children,a=e.modalIsOpen,n=e.onModalClose,s=Object(i.createRef)(),c=new Map([["Escape",n]]);return Object(i.useEffect)((function(){var e=function(e){var t=c.get(e.key);t&&t(e)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(i.useEffect)((function(){var e=function(e){e.target.classList.contains("overlay")&&n()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}})),Object(i.useEffect)((function(){a&&s.current.querySelector("button").focus()}),[a]),Object(r.createPortal)(Object(S.jsx)("div",{className:"modal overlay",role:"dialog","aria-modal":"true",children:Object(S.jsx)("div",{className:"modal__container",children:Object(S.jsx)("div",{className:"modal__content",ref:s,children:Object(S.jsx)(Z.Provider,{value:{onModalClose:n},children:t})})})}),document.body)}Q.Header=function(e){var t=Object(i.useContext)(Z).onModalClose;return Object(S.jsxs)("header",{className:"modal__header",children:[e.children,Object(S.jsx)("button",{className:"modal__close-button",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e \u043c\u0435\u043d\u044e",onClick:t})]})},Q.Body=function(e){return Object(S.jsx)("main",{className:"modal__main",children:e.children})},Q.Footer=function(e){return Object(S.jsx)("footer",{className:"modal__footer",children:e.children})};var H=Q,J={BAD_REQUEST:"\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",INTERNAL_SERVER_ERROR:"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"};var G=function(e){var t=e.titleText;return Object(S.jsx)("h1",{className:"form-title",children:t})};var K=function(e){return Object(S.jsx)("input",{className:e.className,type:e.settings.type,id:e.settings.id,"aria-label":e.settings.ariaLabel,placeholder:e.settings.placeholder,name:e.settings.name,required:e.settings.required,minLength:e.settings.minLength,maxLength:e.settings.maxLength,onChange:e.onChange,value:e.value||"",pattern:e.settings.regexp})};var W=function(e){var t=e.errorText;return Object(S.jsx)("span",{className:"profile-update-error","aria-live":"polite",children:t})};var X=function(e){return Object(S.jsx)("button",{className:e.className,disabled:e.disabled,type:e.settings.type,children:e.settings.title})};var Y=function(e){var t=e.title,a=e.onClick;return Object(S.jsx)("button",{className:"profile-edit-button",onClick:a,children:t})};var $=function(e){var t=e.onSignOut,a=e.title;return Object(S.jsx)("button",{className:"profile-signout-button",onClick:t,children:a})},ee=(a(37),function(){return Object(S.jsx)("div",{className:"preloader",children:Object(S.jsx)("div",{className:"preloader__container",children:Object(S.jsx)("span",{className:"preloader__round"})})})});var te=function(e){var t=e.titleText,a=e.inputsData,n=e.onChange,i=e.values,s=e.errors,r=e.onSubmit,c=e.submitButtonSettings,l=e.formIsValid,o=e.profileUpdateErrorText,u=e.isEdited,d=e.onToggleEditableProfile,m=e.profileEditButtonSettings,j=e.profileSignoutButtonSettings,b=e.onSignOut,h=e.isLoadingData,f=e.isUpdateUserProfileError,O="profile-form",v="profile-form__title",x="profile-form__input-fieldset",g="profile-form__input-container",p="profile-form__container",_="profile-form__input",N="profile-form__input-label",k="profile-form__input-error",y="profile-form__submit-button",C=a.map((function(e){return Object(S.jsxs)("div",{className:g,children:[Object(S.jsxs)("label",{className:N,children:[e.label,Object(S.jsx)(K,{className:_,settings:e,onChange:n,value:i[e.name]})]}),Object(S.jsx)("span",{className:k,"aria-live":"polite",children:s[e.name]})]},e.key)}));return Object(S.jsxs)("form",{onSubmit:r,className:O,noValidate:!0,children:[Object(S.jsx)("div",{className:v,children:Object(S.jsx)(G,{titleText:t})}),Object(S.jsx)("fieldset",{className:x,disabled:!u||h,children:C}),Object(S.jsxs)("div",{className:p,children:[f&&Object(S.jsx)(W,{errorText:o}),u?Object(S.jsx)(X,{disabled:!l,settings:c,className:y}):Object(S.jsxs)(S.Fragment,{children:[h&&Object(S.jsx)(ee,{}),Object(S.jsx)(Y,{onClick:d,title:m.title}),Object(S.jsx)($,{title:j.title,onSignOut:b})]})]})]})};function ae(){var e=Object(i.useState)({}),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(i.useState)({}),r=Object(u.a)(s,2),c=r[0],l=r[1],d=Object(i.useState)(!1),m=Object(u.a)(d,2),j=m[0],b=m[1],h=Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(e),l(t),b(a)}),[n,l,b]);return{values:a,errors:c,isValid:j,handleChange:function(e){var t=e.target,i=t.name,s="checkbox"===t.type?t.checked:t.value;n(Object(_.a)(Object(_.a)({},a),{},Object(o.a)({},i,s))),l(Object(_.a)(Object(_.a)({},c),{},Object(o.a)({},i,t.validationMessage))),b(t.closest("form").checkValidity())},resetForm:h}}var ne=function(e){var t=e.onSignOut,a=e.onUpdateCurrentUser,n=e.isLoadingUpdateCurrentUser,i=e.updUserResStatus,r=s.a.useContext(m),c=s.a.useState(!1),l=Object(u.a)(c,2),o=l[0],d=l[1],j=s.a.useState(""),b=Object(u.a)(j,2),h=b[0],f=b[1],O=ae(),v=O.values,x=O.errors,g=O.isValid,p=O.handleChange,_=O.resetForm,N=s.a.useState(!1),k=Object(u.a)(N,2),y=k[0],C=k[1],E=function(){C(!y),d(!1),f("")},w="\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(r.name||"","!");return s.a.useEffect((function(){r&&_(r)}),[r,_]),s.a.useEffect((function(){!function(){if(i)switch(i){case 400:d(!0),f(J.BAD_REQUEST);break;case 500:d(!0),f(J.INTERNAL_SERVER_ERROR);break;case 200:d(!1),f("")}}()}),[i]),Object(S.jsx)("main",{className:"profile",children:Object(S.jsx)(te,{titleText:w,inputsData:[{key:1,type:"text",id:"name",label:"\u0418\u043c\u044f",placeholder:"\u0418\u043c\u044f",name:"name",required:!0,regexp:"[a-zA-Z -]{2,30}",customErrorMessage:"\u041f\u043e\u043b\u0435 name \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441: a-zA-Z -"},{key:2,type:"email",id:"email",label:"\u041f\u043e\u0447\u0442\u0430",placeholder:"\u041f\u043e\u0447\u0442\u0430",name:"email",required:!0}],onChange:p,values:v,errors:x,onSubmit:function(e){e.preventDefault(),a(v),E(),_(r)},submitButtonSettings:{type:"submit",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},formIsValid:g,isEdited:y,onToggleEditableProfile:E,profileEditButtonSettings:{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"},profileSignoutButtonSettings:{title:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},profileUpdateErrorText:h,isUpdateUserProfileError:o,onSignOut:t,isLoadingData:n})})};var ie=function(e){return Object(S.jsxs)("section",{className:"promo",children:[Object(S.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),e.children]})};var se=function(){var e=[{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435",link:"#about-project",id:1,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"},{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438",link:"#technologies",id:2,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"},{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442",link:"#student",id:3,listItemClassName:"navigation-tab__list-item",listLinkClassName:"navigation-tab__list-link"}].map((function(e){return Object(S.jsx)("li",{className:e.listItemClassName,children:Object(S.jsx)("a",{className:e.listLinkClassName,href:e.link,children:e.title})},e.id)}));return Object(S.jsx)("nav",{className:"navigation-tab",children:Object(S.jsx)("ul",{className:"navigation-tab__list",children:e})})};var re=function(e){return Object(S.jsx)("h2",{className:"title",children:e.title})};function ce(e){return Object(S.jsx)("article",{id:e.id,className:e.className,children:e.children})}ce.Header=function(e){return Object(S.jsx)("header",{className:e.className,children:e.children})},ce.ArticlesSection=function(e){return Object(S.jsx)("section",{className:e.className,children:e.children})},ce.Section=function(e){return Object(S.jsx)("section",{className:e.className,children:e.children})};var le=ce;var oe=function(e){var t=e.styleSettigs,a=e.title,n=e.subTitle,i=e.text,s=e.links,r=e.images;return Object(S.jsxs)("article",{className:t.article,children:[Object(S.jsxs)("div",{className:t.articleTextContainer,children:[Object(S.jsx)("h3",{className:t.title,children:a}),n&&Object(S.jsx)("h4",{className:t.subTitle,children:n}),Object(S.jsx)("p",{className:t.text,children:i}),s&&Object(S.jsx)("ul",{className:t.list,children:s.map((function(e){return Object(S.jsx)("li",{className:t.listItem,children:Object(S.jsx)("a",{className:t.listLink,href:e.link,target:"_blank",rel:"noreferrer",children:e.title})},e.id)}))})]}),r&&Object(S.jsx)("div",{className:t.imagesContainer,children:r.map((function(e){return Object(S.jsx)("img",{className:t.image,src:e.src,alt:e.alt},e.id)}))})]})};var ue=function(e){return Object(S.jsx)(oe,{styleSettigs:{article:"article-about",title:"article-about__title",articleTextContainer:"article-about__text-container",text:"article-about__text"},title:e.title,text:e.text})};var de=function(){var e=[{id:1,numOfUnitsOfTimeSpent:1,timeUnitText:"\u043d\u0435\u0434\u0435\u043b\u044f",subText:"Back-end",color:"#2BE080"},{id:2,numOfUnitsOfTimeSpent:4,timeUnitText:"\u043d\u0435\u0434\u0435\u043b\u0438",subText:"Front-end",color:"#F2F2F2"}].map((function(e){if(0!==e.numOfUnitsOfTimeSpent){var t=100*e.numOfUnitsOfTimeSpent/5,a="".concat(e.numOfUnitsOfTimeSpent," ").concat(e.timeUnitText),n={background:e.color},i={width:"".concat(t,"%")};return Object(S.jsxs)("div",{className:"chart__item",style:i,children:[Object(S.jsx)("div",{className:"chart__item-container",style:n,children:Object(S.jsx)("p",{className:"chart__text",children:a})}),Object(S.jsx)("p",{className:"chart__sub-text",children:e.subText})]},e.id)}}));return Object(S.jsx)("div",{className:"chart",children:e})};var me=function(){var e=[{id:1,title:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432",text:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."},{id:2,title:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c",text:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."}].map((function(e){return Object(S.jsx)(ue,{title:e.title,text:e.text},e.id)})),t="about-project-article",a="about-project-article__header",n="about-page-arcticle__items-section",i="about-page-arcticle__section";return Object(S.jsxs)(le,{id:"about-project",className:t,children:[Object(S.jsx)(le.Header,{className:a,children:Object(S.jsx)(re,{title:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(S.jsx)(le.ArticlesSection,{className:n,children:e}),Object(S.jsx)(le.Section,{className:i,children:Object(S.jsx)(de,{})})]})};var je=function(e){return Object(S.jsx)(oe,{styleSettigs:{article:"article-about-me",articleTextContainer:"article-about-me__text-container",title:"article-about-me__title",subTitle:"article-about-me__sub-title",list:"article-about-me__list",listItem:"article-about-me__list-item",listLink:"article-about-me__list-link",imagesContainer:"article-about-me__images-container",image:"article-about-me__image",text:"article-about-me__text"},title:e.title,subTitle:e.subTitle,text:e.text,links:e.links,images:e.images})};var be=function(e){var t=e.items,a=e.listTitle,n=e.styleSettings,i=t.map((function(e){return Object(S.jsx)("li",{className:n.listItem,children:Object(S.jsxs)("a",{className:n.listLink,href:e.href,target:"_blank",rel:"noreferrer",children:[e.text,Object(S.jsx)("span",{className:n.listLinkSpan,children:"\u2197"})]})},e.id)}));return Object(S.jsxs)(S.Fragment,{children:[a&&Object(S.jsx)("h5",{className:n.listTitle,children:a}),Object(S.jsx)("ul",{className:n.list,children:i})]})};var he=function(){return Object(S.jsx)(be,{items:[{id:1,text:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",href:"https://github.com/razorka/how-to-learn"},{id:2,text:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",href:"https://github.com/razorka/russian-travel"},{id:3,text:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",href:"https://github.com/razorka/express-mesto"}],listTitle:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",styleSettings:{list:"about-me-list",listTitle:"about-me-list__title",listItem:"about-me-list__item",listLink:"about-me-list__link",listLinkSpan:"about-me-list__link-span"}})},fe=a.p+"static/media/about-me.94421e74.jpg";var Oe=function(){var e="about-me-article",t="about-me-article__header",a="about-me-article__items-section",n="about-me-article__section",i=[{id:1,title:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",subTitle:"\u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 33 \u0433\u043e\u0434\u0430",text:"\u042f \u0438\u0437 \u0421\u0430\u043c\u0430\u0440\u044b. \u0420\u0430\u0431\u043e\u0442\u0430\u044e \u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u043e\u043c \u041f\u0422\u041e \u0432 \u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0412\u043e\u0437\u0432\u043e\u0434\u0438\u043c \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0435, \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u044b\u0435 \u0438 \u0440\u0430\u0437\u0432\u043b\u0435\u043a\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0442 \u044d\u0442\u0430\u043f\u0430 \u043a\u043e\u0442\u043b\u043e\u0432\u0430\u043d\u0430 \u0438 \u0434\u043e \u0432\u0432\u043e\u0434\u0430 \u0432 \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u044e. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0432\u0435\u0431-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430 JavaScript. \u0414\u0430\u043d\u043d\u043e\u0435 \u0445\u043e\u0431\u0431\u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u043c\u043d\u043e\u0433\u0438\u0435 \u0432\u0435\u0449\u0438 \u043f\u043e-\u043d\u043e\u0432\u043e\u043c\u0443. \u0413\u043e\u0432\u043e\u0440\u044f\u0442 \u0440\u0430\u0437 \u0432 10 \u043b\u0435\u0442 \u043d\u0430\u0434\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043d\u043e\u0432\u043e\u0435 \u0432 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u0438 - \u044f \u0437\u0430\u0434\u0435\u0440\u0436\u0430\u043b\u0441\u044f \u043d\u0430 2 \u0433\u043e\u0434\u0430 \u0443\u0436\u0435 - \u043f\u043e\u0440\u0430:))",linksTitle:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e",links:[{id:1,title:"Vkontakte",link:"https://vk.com/id9702680"},{id:2,title:"Github",link:"https://github.com/razorka"}],images:[{id:1,src:fe,alt:"\u0424\u043e\u0442\u043e Nick"}]}].map((function(e){return Object(S.jsx)(je,{title:e.title,subTitle:e.subTitle,text:e.text,linksTitle:e.linksTitle,links:e.links,images:e.images},e.id)}));return Object(S.jsxs)(le,{id:"student",className:e,children:[Object(S.jsx)(le.Header,{className:t,children:Object(S.jsx)(re,{title:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})}),Object(S.jsx)(le.ArticlesSection,{className:a,children:i}),Object(S.jsx)(le.Section,{className:n,children:Object(S.jsx)(he,{})})]})};var ve=function(e){return Object(S.jsx)(oe,{styleSettigs:{article:"article-tech",title:"article-tech__title",articleTextContainer:"article-tech__text-container",text:"article-tech__text"},title:e.title,text:e.text})};var xe=function(e){var t=e.items.map((function(t){return Object(S.jsx)("li",{className:e.styleSettings.listItemClassName,children:t.text},t.id)}));return Object(S.jsx)("ul",{className:e.styleSettings.listClassName,children:t})};var ge=function(e){return Object(S.jsx)(xe,{items:[{id:1,text:"HTML"},{id:2,text:"CSS"},{id:3,text:"JS"},{id:4,text:"React"},{id:5,text:"Git"},{id:6,text:"Express.js"},{id:7,text:"mongoDB"}],styleSettings:{listClassName:"techs-list",listItemClassName:"techs-list__item"}})};var pe=function(){var e=[{id:1,title:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439",text:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}].map((function(e){return Object(S.jsx)(ve,{title:e.title,text:e.text},e.id)})),t="techs-article",a="techs-article__header",n="techs-article__items-section",i="techs-article__section";return Object(S.jsxs)(le,{id:"technologies",className:t,children:[Object(S.jsx)(le.Header,{className:a,children:Object(S.jsx)(re,{title:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(S.jsx)(le.ArticlesSection,{className:n,children:e}),Object(S.jsx)(le.Section,{className:i,children:Object(S.jsx)(ge,{})})]})};var _e=function(){return Object(S.jsxs)("main",{className:"main",children:[Object(S.jsx)(ie,{children:Object(S.jsx)(se,{})}),Object(S.jsx)(me,{}),Object(S.jsx)(pe,{}),Object(S.jsx)(Oe,{})]})};var Ne=function(e){var t=s.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1];return Object(S.jsxs)("label",{className:n?"".concat(e.labelClassName," ").concat(e.onFocusClassName):e.labelClassName,onFocus:function(){i(!0)},onBlur:function(){i(!1)},children:[Object(S.jsx)("input",{className:e.inputClassName,type:e.settings.type,id:e.settings.id,name:e.settings.name,required:e.settings.required,onChange:e.onChange,value:e.value,checked:e.value||""}),Object(S.jsx)("span",{className:e.sliderClassName}),e.settings.label]})};var Se,ke=function(e){var t=e.onSubmit,a=ae(),n=a.values,i=a.handleChange,s=a.resetForm,r="search-form",c="search-form__text-input",l="search-form__submit-button",o="search-form__checkbox-input",u="search-form__checkbox-label",d="search-form__checkbox-slider",m="search-form__checkbox-label_focus";return Object(S.jsxs)("form",{className:r,onSubmit:function(e){e.preventDefault(),t(n),s()},children:[Object(S.jsx)(K,{settings:{type:"text",id:"search-text",ariaLabel:"\u043f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u043c\u0430",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"search",minLength:1,maxLength:30,required:!1},className:c,onChange:i,value:n.search}),Object(S.jsx)(Ne,{inputClassName:o,labelClassName:u,sliderClassName:d,onFocusClassName:m,settings:{type:"checkbox",id:"filter-shortfilm",label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438",name:"shortfilm",required:!1},onChange:i,value:n.shortfilm}),Object(S.jsx)(X,{className:l,settings:{className:"",type:"submit",title:"\u041f\u043e\u0438\u0441\u043a"}})]})},ye=function(e){var t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,"\u0447 ").concat(a,"\u043c")};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function we(e,t){var a=e.title,n=e.titleId,s=Ee(e,["title","titleId"]);return i.createElement("svg",Ce({width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Se||(Se=i.createElement("path",{d:"M7.27273 0C6.27273 0 5.54545 0.523077 5 1.08974C4.45455 0.566667 3.72727 0 2.72727 0C1.13636 0 0 1.2641 0 2.83333C0 3.61795 0.318182 4.31538 0.909091 4.79487L5 8.5L9.09091 4.79487C9.63636 4.27179 10 3.61795 10 2.83333C10 1.2641 8.86364 0 7.27273 0Z",fill:"white"})))}var Te,Le=i.forwardRef(we);a.p;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Me(e,t){var a=e.title,n=e.titleId,s=Ie(e,["title","titleId"]);return i.createElement("svg",Re({width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Te||(Te=i.createElement("path",{d:"M7.27273 0C6.27273 0 5.54545 0.523077 5 1.08974C4.45455 0.566667 3.72727 0 2.72727 0C1.13636 0 0 1.2641 0 2.83333C0 3.61795 0.318182 4.31538 0.909091 4.79487L5 8.5L9.09091 4.79487C9.63636 4.27179 10 3.61795 10 2.83333C10 1.2641 8.86364 0 7.27273 0Z",fill:"#FF3055"})))}var Ue,De,Pe=i.forwardRef(Me);a.p;function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Fe(e,t){var a=e.title,n=e.titleId,s=Be(e,["title","titleId"]);return i.createElement("svg",Ae({width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},s),a?i.createElement("title",{id:n},a):null,Ue||(Ue=i.createElement("rect",{width:30,height:30,rx:15,fill:"#F9F9F9"})),De||(De=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 15.9429L17.357 18.2999L18.4177 17.2393L16.0607 14.8822L18.2999 12.643L17.2393 11.5823L15 13.8216L12.7609 11.5824L11.7002 12.6431L13.9393 14.8822L11.5824 17.2391L12.6431 18.2998L15 15.9429Z",fill:"black"})))}var Ve=i.forwardRef(Fe);a.p;var qe=function(e){var t=e.className,a=e.onClick,n=e.locationPathname,i=e.isSaved,r=s.a.useState(""),c=Object(u.a)(r,2),l=c[0],o=c[1],d="\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e";return s.a.useEffect((function(){"/saved-movies"===n?o(d):"/movies"===n&&o(i?d:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}),[i,n]),Object(S.jsx)("button",{className:t,"aria-label":l,onClick:a,children:"/saved-movies"===n?Object(S.jsx)(Ve,{}):"/movies"===n&&i?Object(S.jsx)(Pe,{}):Object(S.jsx)(Le,{})})};var ze=function(e){var t=e.data,a=e.locationPathname,n=e.onSaveMovie,i=e.onDeleteSavedMovie,s="movies-card-article",r="movies-card-article__annotation",c="movies-card-article__container",l="movies-card-article__title",o="movies-card-article__subtitle",u="movies-card-article__image-section",d="movies-card-article__image",m="movies-card-article__like-button";return Object(S.jsxs)(le,{id:t._id,className:s,children:[Object(S.jsx)(le.Section,{className:u,children:Object(S.jsx)("img",{className:d,alt:t.nameEN,src:t.image})}),Object(S.jsxs)(le.Section,{className:r,children:[Object(S.jsxs)("div",{className:c,children:[Object(S.jsx)("h2",{className:l,children:t.nameRU}),Object(S.jsx)(qe,{className:m,onClick:function(){"/movies"===a?t.saved?i(t._id):n({country:t.country,director:t.director,duration:t.duration,year:t.year,description:t.description,image:t.image,trailer:t.trailerLink,nameRU:t.nameRU,nameEN:t.nameEN,movieId:t.id,thumbnail:t.image}):"/saved-movies"===a&&i(t._id)},locationPathname:a,isSaved:t.saved})]}),Object(S.jsx)("div",{className:o,children:ye(t.duration)})]})]})};var Ze=function(e){var t=e.locationPathname,a=e.data,n=e.onSaveMovie,i=e.onDeleteSavedMovie,s=a.map((function(e){return Object(S.jsx)("li",{children:Object(S.jsx)(ze,{data:e,locationPathname:t,onSaveMovie:n,onDeleteSavedMovie:i})},e.id||e._id)}));return Object(S.jsx)("ul",{className:"movies-card-list",children:s})};var Qe=function(e){var t=e.onDeleteSavedMovie,a=e.savedMoviesData,n=Object(d.h)();return Object(S.jsxs)("main",{children:[Object(S.jsx)(ke,{}),Object(S.jsx)(Ze,{data:a,locationPathname:n.pathname,onDeleteSavedMovie:t})]})};var He=function(e){var t=e.onClick,a="show-more",n="show-more__button";return Object(S.jsx)("div",{className:a,children:Object(S.jsx)("button",{className:n,onClick:t,children:"\u0415\u0449\u0451"})})},Je={BASE_ERROR:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"};var Ge=function(e){var t=e.isLoadingData,a=e.resStatus,n=e.moviesData,i=e.onSubmit,r=e.onSaveMovie,c=e.onDeleteSavedMovie,l=Object(d.h)(),o=s.a.useState(!1),m=Object(u.a)(o,2),j=m[0],b=m[1];return s.a.useEffect((function(){!function(){if(a)switch(a){case 200:b(!1);break;default:b(!0)}}()}),[a]),Object(S.jsxs)("main",{children:[Object(S.jsx)(ke,{onSubmit:function(e){console.log(e),i(e)}}),t?Object(S.jsx)(ee,{}):Object(S.jsx)(S.Fragment,{children:j?Object(S.jsx)("p",{children:Je.BASE_ERROR}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ze,{data:n,locationPathname:l.pathname,onSaveMovie:r,onDeleteSavedMovie:c}),Object(S.jsx)(He,{onClick:function(){return console.log("Show more")}})]})})]})};var Ke=function(e){var t=e.settings,a=e.children;return Object(S.jsxs)("p",{className:"form-question-text",children:[t.questionText,a]})};var We=function(e){var t=e.errorText;return Object(S.jsx)("span",{className:"auth-error",children:t})};var Xe=function(e){var t=e.linkPath,a=e.linkTitle;return Object(S.jsx)(l.b,{className:"route-link",to:t,children:a})};var Ye=function(e){var t=e.titleText,a=e.inputsData,n=e.onChange,i=e.values,s=e.errors,r=e.onSubmit,c=e.submitButtonSettings,l=e.formAuthQuestionSettings,o=e.routeLinkSettings,u=e.formIsValid,d=e.authErrorText,m=e.isAuthError,j=e.isLoadingData,b="auth-form",h="auth-form__title",f="auth-form__input-fieldset",O="auth-form__input-container",v="auth-form__button-container",x="auth-form__input",g="auth-form__input-label",p="auth-form__input-error",_="auth-form__submit-button",N=a.map((function(e){return Object(S.jsxs)("div",{className:O,children:[Object(S.jsxs)("label",{className:g,children:[e.label,Object(S.jsx)(K,{className:x,settings:e,onChange:n,value:i[e.name]})]}),Object(S.jsxs)("span",{className:p,"aria-live":"polite",children:[e.regexp&&s[e.name]&&e.customErrorMessage,s[e.name]]})]},e.key)}));return Object(S.jsxs)("form",{onSubmit:r,className:b,noValidate:!0,children:[Object(S.jsxs)("div",{className:h,children:[Object(S.jsx)(V,{}),Object(S.jsx)(G,{titleText:t})]}),Object(S.jsxs)("fieldset",{className:f,disabled:j,children:[N,m&&Object(S.jsx)(We,{errorText:d})]}),Object(S.jsxs)("div",{className:v,children:[Object(S.jsx)(X,{disabled:!u||j,settings:c,className:_}),Object(S.jsx)(Ke,{settings:l,children:Object(S.jsx)(Xe,{linkPath:o.linkPath,linkTitle:o.linkTitle})})]}),j&&Object(S.jsx)(ee,{})]})},$e={CONFLICT_EMAIL:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",BAD_REQUEST:"\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."};var et=function(e){var t=e.onSignup,a=e.regResStatus,n=e.isLoadingSignup,i=s.a.useState(!1),r=Object(u.a)(i,2),c=r[0],l=r[1],o=s.a.useState(""),d=Object(u.a)(o,2),m=d[0],j=d[1],b=ae(),h=b.values,f=b.errors,O=b.isValid,v=b.handleChange,x=b.resetForm;return s.a.useEffect((function(){!function(){if(a)switch(a){case 409:l(!0),j($e.CONFLICT_EMAIL);break;case 400:l(!0),j($e.BAD_REQUEST);break;case 200:l(!1),j("")}}()}),[a]),Object(S.jsx)("main",{className:"register",children:Object(S.jsx)(Ye,{titleText:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",inputsData:[{key:1,type:"text",id:"name",label:"\u0418\u043c\u044f",placeholder:"\u0418\u043c\u044f",name:"name",required:!0,regexp:"[a-zA-Z -]{1,50}",customErrorMessage:"\u041f\u043e\u043b\u0435 name \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443, \u043f\u0440\u043e\u0431\u0435\u043b \u0438\u043b\u0438 \u0434\u0435\u0444\u0438\u0441: a-zA-Z -"},{key:2,inputClassName:"",labelClassName:"",type:"email",id:"email",label:"E-mail",placeholder:"E-mail",name:"email",required:!0},{key:3,inputClassName:"",labelClassName:"",type:"password",id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",minLength:8,required:!0}],onChange:v,values:h,errors:f,onSubmit:function(e){e.preventDefault(),t(h),j(null),x()},submitButtonSettings:{type:"submit",title:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},formAuthQuestionSettings:{questionText:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "},routeLinkSettings:{linkTitle:"\u0412\u043e\u0439\u0442\u0438",linkPath:"/signin"},formIsValid:O,authErrorText:m,isAuthError:c,isLoadingData:n})})},tt={BAD_REQUEST:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.",TOKEN_BAD_REQUEST:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a...",TOKEN_UNAUTHORIZED:"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0442\u043e\u043a\u0435\u043d.",INTERNAL_SERVER:"500 \u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430."};var at=function(e){var t=e.onSignin,a=e.authResStatus,n=e.tokenResStatus,i=e.isLoadingSignin,r=s.a.useState(!1),c=Object(u.a)(r,2),l=c[0],o=c[1],d=s.a.useState(null),m=Object(u.a)(d,2),j=m[0],b=m[1],h=ae(),f=h.values,O=h.errors,v=h.isValid,x=h.handleChange,g=h.resetForm;return s.a.useEffect((function(){!function(){if(n)switch(n){case 400:o(!0),b(tt.TOKEN_BAD_REQUEST);break;case 401:o(!0),b(tt.TOKEN_UNAUTHORIZED);break;case 500:o(!0),b(tt.INTERNAL_SERVER)}if(a)switch(a){case 400:case 401:o(!0),b(tt.BAD_REQUEST);break;case 500:o(!0),b(tt.INTERNAL_SERVER);break;case 200:o(!1),b("")}}()}),[n,a]),Object(S.jsx)("main",{className:"login",children:Object(S.jsx)(Ye,{titleText:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",inputsData:[{key:1,inputClassName:"",labelClassName:"",type:"email",id:"email",label:"E-mail",placeholder:"E-mail",name:"email",required:!0},{key:2,inputClassName:"",labelClassName:"",type:"password",id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",minLength:8,required:!0}],routeLinkSettings:{linkTitle:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkPath:"/signup"},onChange:x,values:f,errors:O,onSubmit:function(e){e.preventDefault(),t(f),g()},submitButtonSettings:{type:"submit",title:"\u0412\u043e\u0439\u0442\u0438"},formAuthQuestionSettings:{questionText:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? "},formIsValid:v,authErrorText:j,isAuthError:l,isLoadingData:i})})};var nt=function(){var e=Object(d.g)(),t="not-found",a="not-found__container",n="not-found__title",i="not-found__subtitle",s="not-found__go-back-button";return Object(S.jsxs)("main",{className:t,children:[Object(S.jsxs)("div",{className:a,children:[Object(S.jsx)("h1",{className:n,children:"404"}),Object(S.jsx)("p",{className:i,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]}),Object(S.jsx)("button",{className:s,onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var it=function(e){var t=e.items,a=e.listTitle,n=e.styleSettings,i=t.map((function(e){return Object(S.jsx)("li",{className:n.listItem,children:Object(S.jsx)("a",{className:n.listLink,href:e.href,target:"_blank",rel:"noreferrer",children:e.text})},e.id)}));return Object(S.jsxs)(S.Fragment,{children:[a&&Object(S.jsx)("h5",{className:n.listTitle,children:a}),Object(S.jsx)("ul",{className:n.list,children:i})]})};var st=function(){return Object(S.jsx)(it,{items:[{id:1,text:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c",href:"https://praktikum.yandex.ru/"},{id:2,text:"Github",href:"https://github.com/razorka"},{id:3,text:"Vkontakte",href:"https://vk.com/id9702680"}],styleSettings:{list:"footer-list",listItem:"footer-list__item",listLink:"footer-list__link"}})};var rt=function(){var e="footer",t="footer__title",a="footer__container",n="footer__text";return Object(S.jsxs)("footer",{className:e,children:[Object(S.jsx)("h2",{className:t,children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(S.jsxs)("div",{className:a,children:[Object(S.jsx)("p",{className:n,children:"\xa9 2020"}),Object(S.jsx)(st,{})]})]})},ct=s.a.memo((function(e){return Object(S.jsxs)("nav",{className:"mobile-navigation",children:[Object(S.jsx)(l.c,{exact:!0,className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/",onClick:e.onModalClose,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(S.jsx)(l.c,{className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/movies",onClick:e.onModalClose,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(S.jsx)(l.c,{className:"mobile-navigation__link",activeClassName:"mobile-navigation__link_active",to:"/saved-movies",onClick:e.onModalClose,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),e.children]})})),lt="/profile",ot="\u0410\u043a\u043a\u0430\u0443\u043d\u0442",ut=s.a.memo((function(e){return Object(S.jsxs)(l.b,{className:"mobile-account-link",to:lt,onClick:e.onModalClose,children:[ot,Object(S.jsx)(L,{className:"mobile-account-link__icon"})]})})),dt=a(25);var mt=function(e){var t=e.component,a=e.loggedIn,n=e.redirectTo,i=Object(dt.a)(e,["component","loggedIn","redirectTo"]);return Object(S.jsx)(d.b,{children:a?Object(S.jsx)(t,Object(_.a)({},i)):Object(S.jsx)(d.a,{to:n})})};var jt=function(){var e,t=s.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],r=s.a.useState(!0),c=Object(u.a)(r,2),l=c[0],j=c[1],b=s.a.useState(!1),f=Object(u.a)(b,2),O=f[0],v=f[1],x=s.a.useState(!1),g=Object(u.a)(x,2),_=g[0],k=g[1],y=s.a.useState(!1),C=Object(u.a)(y,2),E=C[0],w=C[1],T=s.a.useState(!1),L=Object(u.a)(T,2),R=L[0],I=L[1],M=s.a.useState(!1),U=Object(u.a)(M,2),D=U[0],P=U[1],A=s.a.useState({}),B=Object(u.a)(A,2),F=B[0],V=B[1],q=s.a.useState([]),Z=Object(u.a)(q,2),Q=Z[0],J=Z[1],G=s.a.useState([]),K=Object(u.a)(G,2),W=K[0],X=K[1],Y=s.a.useState(null),$=Object(u.a)(Y,2),te=$[0],ae=$[1],ie=s.a.useState(null),se=Object(u.a)(ie,2),re=se[0],ce=se[1],le=s.a.useState(null),oe=Object(u.a)(le,2),ue=oe[0],de=oe[1],me=s.a.useState(null),je=Object(u.a)(me,2),be=je[0],he=je[1],fe=s.a.useState(null),Oe=Object(u.a)(fe,2),ve=Oe[0],xe=Oe[1],ge=s.a.useState(null),pe=Object(u.a)(ge,2),Ne=(pe[0],pe[1]),Se=s.a.useState(null),ke=Object(u.a)(Se,2),ye=(ke[0],ke[1]),Ce=s.a.useState(null),Ee=Object(u.a)(Ce,2),we=(Ee[0],Ee[1]),Te=Object(d.g)(),Le=function(e){var t=e.name,a=e.email,n=e._id;localStorage.setItem("userName",t),localStorage.setItem("userEmail",a),localStorage.setItem("userId",n)},Re=s.a.useCallback((function(){var e=localStorage.getItem("jwt");e&&(j(!0),N.checkToken(e).then((function(e){ce(e.status),i(!0),V(e.data),Le(e.data)}),(function(e){ce(e)})).finally((function(){j(!1)})))}),[]);s.a.useEffect((function(){Re(),(re||be||ue||te)&&(he(null),de(null),ce(null),ae(null))}),[Te.location]);var Ie=function(e){k(!0),N.authorize(e).then((function(e){ae(e.status),localStorage.setItem("jwt",e.data.token),i(!0),Re(),Te.push("/movies")})).catch((function(e){ae(e)})).finally((function(){k(!1)}))},Me=function(){var e=localStorage.getItem("jwt");e&&N.getSavedMovies(e).then((function(e){J(e.data.reverse()),ye(e.status)})).catch((function(e){ye(e),console.log(e)}))},Ue=function(e){var t=localStorage.getItem("jwt");t&&N.deleteSavedMovie(e,t).then((function(t){we(t.status),function(e){W.forEach((function(t){t.saved&&t._id===e&&(t.saved=!1,t._id=null)}))}(e)})).catch((function(e){we(e),console.log(e)})).finally((function(){Me()}))},De=function(){P(!1)};return s.a.useEffect((function(){Me()}),[]),s.a.useEffect((function(){var e=function(){j(!1)};return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)}}),[]),Object(S.jsx)(m.Provider,{value:F,children:Object(S.jsxs)("div",{className:"app",children:[Object(d.i)(["/signin","/signup"])?null:Object(S.jsx)(z,{loggedIn:n,onOpenMenu:function(){P(!0)}}),Object(S.jsxs)(d.d,{children:[Object(S.jsx)(d.b,{exact:!0,path:"/",children:l?Object(S.jsx)(ee,{}):Object(S.jsx)(_e,{})}),Object(S.jsx)(mt,(e={path:"/movies",redirectTo:"/",loggedIn:n,component:Ge,isLoadingData:O,moviesData:W,resStatus:ve,onSubmit:function(e){v(!0),h.getMoviesData().then((function(t){xe(t.status);var a=p(e,t.data);X(a)})).catch((function(e){console.log(e),xe(e)})).finally((function(){v(!1)}))}},Object(o.a)(e,"moviesData",function(e){var t=function(){var e=[];return Q.forEach((function(t){e.push(t.movieId)})),e}();return e.forEach((function(e){e.saved=t.some((function(t){return t===e.id}))})),Q.forEach((function(t){e.forEach((function(e){e.id===t.movieId&&(e._id=t._id)}))})),e}(W)),Object(o.a)(e,"onSaveMovie",(function(e){var t=localStorage.getItem("jwt");t?N.saveMovie(e,t).then((function(e){Ne(e.status)})).catch((function(e){Ne(e),console.log(e)})).finally((function(){Me()})):Te.push("/signin")})),Object(o.a)(e,"onDeleteSavedMovie",Ue),e)),Object(S.jsx)(mt,{path:"/saved-movies",redirectTo:"/",loggedIn:n,component:Qe,savedMoviesData:Q,onDeleteSavedMovie:Ue}),Object(S.jsx)(mt,{path:"/profile",redirectTo:"/",loggedIn:n,onSignOut:function(e){e.preventDefault(),i(!1),localStorage.removeItem("jwt"),Te.push("/")},onUpdateCurrentUser:function(e){var t=localStorage.getItem("jwt");t&&(I(!0),N.updateCurrentUserProfile(e,t).then((function(e){V(e.data),he(e.status),Le(e.data)})).catch((function(e){he(e)})).finally((function(){I(!1)})))},isLoadingUpdateCurrentUser:R,updUserResStatus:be,component:ne}),Object(S.jsx)(d.b,{path:"/signup",children:Object(S.jsx)(et,{onSignup:function(e){w(!0),N.register(e).then((function(t){de(t.status),Ie({email:e.email,password:e.password})})).catch((function(e){de(e)})).finally((function(){w(!1)}))},regResStatus:ue,authResStatus:te,isLoadingSignup:E||l||_})}),Object(S.jsx)(d.b,{path:"/signin",children:Object(S.jsx)(at,{onSignin:Ie,authResStatus:te,tokenResStatus:re,isLoadingSignin:E||l||_})}),Object(S.jsx)(d.b,{path:"*",children:Object(S.jsx)(nt,{})})]}),Object(d.i)(["/signin","/signup","/profile"])?null:Object(S.jsx)(rt,{}),D&&Object(S.jsxs)(H,{modalIsOpen:D,onModalClose:De,children:[Object(S.jsx)(H.Header,{}),Object(S.jsx)(H.Body,{children:Object(S.jsx)(ct,{onModalClose:De})}),Object(S.jsx)(H.Footer,{children:Object(S.jsx)(ut,{onModalClose:De})})]})]})})};c.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(l.a,{children:Object(S.jsx)(jt,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0fde289e.chunk.js.map